(()=>{"use strict";var t={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__input-error_visible"};function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function n(t,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,i=function(t,n){if("object"!==e(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,"string");if("object"!==e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===e(i)?i:String(i)),o)}var i}var r=function(){function t(e){var n=e.baseUrl,r=e.headers;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._baseUrl=n,this._headers=r}var e,r;return e=t,(r=[{key:"_checkResponse",value:function(t){return t.ok?t.json():Promise.reject("Ошибка: ".concat(t.status))}},{key:"getInitialCards",value:function(){return fetch("".concat(this._baseUrl,"/cards"),{headers:this._headers}).then(this._checkResponse)}},{key:"addNewCard",value:function(t){var e=t.name,n=t.link;return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:e,link:n})}).then(this._checkResponse)}},{key:"removeCard",value:function(t){return fetch("".concat(this._baseUrl,"/cards/").concat(t),{method:"DELETE",headers:this._headers}).then(this._checkResponse)}},{key:"addLike",value:function(t){return fetch("".concat(this._baseUrl,"/cards/").concat(t,"/likes"),{method:"PUT",headers:this._headers}).then(this._checkResponse)}},{key:"removeLike",value:function(t){return fetch("".concat(this._baseUrl,"/cards/").concat(t,"/likes"),{method:"DELETE",headers:this._headers}).then(this._checkResponse)}},{key:"setAvatar",value:function(t){return fetch("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:t.link})}).then(this._checkResponse)}},{key:"getUserInfo",value:function(){return fetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers}).then(this._checkResponse)}},{key:"editUserInfo",value:function(t){return fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:t.name,about:t.description})}).then(this._checkResponse)}}])&&n(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,i=function(t,e){if("object"!==o(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===o(i)?i:String(i)),r)}var i}var u=function(){function t(e){var n=e.dataCard,r=e.templateContainer,o=e.userId,i=e.openPopupGallery,u=e.handleSetCardLike,a=e.handleDelCardLike,l=e.handleDeleteCard;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._name=n.name,this._link=n.link,this._likes=n.likes,this._cardId=n._id,this._dataCard=n,this._userId=o,this._ownerId=n.owner._id,this._templateContainer=r,this._openPopupGallery=i,this._handleSetCardLike=u,this._handleDelCardLike=a,this._handleDeleteCard=l}var e,n;return e=t,(n=[{key:"_getTemplate",value:function(){return document.querySelector(this._templateContainer).content.querySelector(".element").cloneNode(!0)}},{key:"_setData",value:function(){this._imageElement.src=this._link,this._imageElement.alt=this._name,this._titleElement.textContent=this._name}},{key:"deleteCardButton",value:function(){this._element.remove()}},{key:"likeCardButton",value:function(t){this._likes=t.likes,this._likesCounter.textContent=this._likes.length,this._likeButton.classList.toggle("element__like-button_active")}},{key:"_likeStatus",value:function(){var t=this;this._likes.some((function(e){return t._userId===e._id}))&&this._likeButton.classList.add("element__like-button_active")}},{key:"_setDeleteButton",value:function(){this._userId!==this._ownerId&&this._deleteButton.remove()}},{key:"_addEventListeners",value:function(){var t=this;this._likeButton.addEventListener("click",(function(){t._likeButton.classList.contains("element__like-button_active")?t._handleDelCardLike(t._cardId):t._handleSetCardLike(t._cardId)})),this._deleteButton.addEventListener("click",(function(){return t._handleDeleteCard(t._cardId)})),this._imageElement.addEventListener("click",(function(){t._openPopupGallery(t._dataCard)}))}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._imageElement=this._element.querySelector(".element__image"),this._titleElement=this._element.querySelector(".element__title"),this._likeButton=this._element.querySelector(".element__like-button"),this._deleteButton=this._element.querySelector(".element__delete"),this._likesCounter=this._element.querySelector(".element__like-count"),this._likesCounter.textContent=this._likes.length,this._likeStatus(),this._setDeleteButton(),this._setData(),this._addEventListeners(),this._element}}])&&i(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,f(r.key),r)}}function s(t,e,n){return(e=f(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(t){var e=function(t,e){if("object"!==a(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===a(e)?e:String(e)}var p=function(){function t(e,n){var r,o=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,"_showInputError",(function(t){var e=o._formElement.querySelector(".".concat(t.id,"-error"));t.classList.add(o._inputErrorClass),e.classList.add(o._errorClass),e.textContent=t.validationMessage})),s(this,"_hideInputError",(function(t){var e=o._formElement.querySelector(".".concat(t.id,"-error"));t.classList.remove(o._inputErrorClass),e.classList.remove(o._errorClass),e.textContent=""})),s(this,"enableButton",(function(){o._buttonElement.classList.remove(o._inactiveButtonClass),o._buttonElement.disabled=!1})),s(this,"disableButton",(function(){o._buttonElement.classList.add(o._inactiveButtonClass),o._buttonElement.disabled=!0})),s(this,"_toggleButtonState",(function(){o._inputList.some((function(t){return!t.validity.valid}))?o.disableButton():o.enableButton()})),s(this,"_validateInput",(function(t){t.validity.valid?o._hideInputError(t):o._showInputError(t)})),s(this,"enableValidation",(function(){o._inputList.forEach((function(t){t.addEventListener("input",(function(){o._validateInput(t),o._toggleButtonState()}))}))})),this._formSelector=e.formSelector,this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._formElement=n,this._buttonElement=n.querySelector(this._submitButtonSelector),this._inputList=function(t){if(Array.isArray(t))return l(t)}(r=n.querySelectorAll(this._inputSelector))||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(r)||function(t,e){if(t){if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var e,n;return e=t,(n=[{key:"resetValidation",value:function(){var t=this;this._toggleButtonState(),this._inputList.forEach((function(e){t._hideInputError(e)}))}}])&&c(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==y(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===y(o)?o:String(o)),r)}var o}var h=function(){function t(e,n){var r=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._renderer=r,this._container=document.querySelector(n)}var e,n;return e=t,(n=[{key:"renderItems",value:function(t){t.forEach(this._renderer)}},{key:"addItem",value:function(t){this._container.prepend(t)}}])&&d(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==m(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===m(o)?o:String(o)),r)}var o}var v=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._popup=document.querySelector(e),this._closeButton=this._popup.querySelector(".popup__closed"),this._handleEscClose=this._handleEscClose.bind(this)}var e,n;return e=t,(n=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(t){"Escape"===t.key&&this.close()}},{key:"setEventListeners",value:function(){var t=this;this._closeButton.addEventListener("click",(function(){t.close()})),this._popup.addEventListener("mousedown",(function(e){e.target.classList.contains("popup")&&t.close()}))}}])&&b(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function _(t){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_(t)}function S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==_(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===_(o)?o:String(o)),r)}var o}function g(){return g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=k(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},g.apply(this,arguments)}function w(t,e){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},w(t,e)}function k(t){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},k(t)}var E=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=k(r);if(o){var n=k(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===_(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t))._popupImage=e._popup.querySelector(".popup__gallery-photo"),e._popupImageName=e._popup.querySelector(".popup__image-description"),e}return e=u,(n=[{key:"open",value:function(t){var e=t.name,n=t.link;this._popupImage.src=n,this._popupImage.alt=e,this._popupImageName.textContent=e,g(k(u.prototype),"open",this).call(this)}}])&&S(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(v);function j(t){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j(t)}function C(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,I(r.key),r)}}function O(t,e){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},O(t,e)}function P(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function L(){return L="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=B(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},L.apply(this,arguments)}function B(t){return B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},B(t)}function I(t){var e=function(t,e){if("object"!==j(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==j(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===j(e)?e:String(e)}var T=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=B(r);if(o){var n=B(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===j(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return P(t)}(this,t)});function u(t){var e,n,r,o,a,l=t.popupSelector,c=t.handleFormSubmit;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),r=P(n=i.call(this,l)),a=function(){L((e=P(n),B(u.prototype)),"setEventListeners",e).call(e),n._form.addEventListener("submit",(function(t){t.preventDefault(),n._handleFormSubmit(n._getInputValues())}))},(o=I(o="setEventListeners"))in r?Object.defineProperty(r,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[o]=a,n._form=n._popup.querySelector(".popup__form"),n._inputList=n._form.querySelectorAll(".popup__input"),n._handleFormSubmit=c,n._buttonSave=n._popup.querySelector(".popup__button"),n}return e=u,(n=[{key:"setButtonText",value:function(t){this._buttonSave.textContent=t}},{key:"_getInputValues",value:function(){var t={};return this._inputList.forEach((function(e){t[e.name]=e.value})),t}},{key:"close",value:function(){this._form.reset(),L(B(u.prototype),"close",this).call(this)}}])&&C(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(v);function R(t){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R(t)}function q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==R(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==R(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===R(o)?o:String(o)),r)}var o}var x=function(){function t(e){var n=e.name,r=e.description,o=e.avatar;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._name=document.querySelector(n),this._description=document.querySelector(r),this._avatar=document.querySelector(o)}var e,n;return e=t,(n=[{key:"getUserInfo",value:function(){return{name:this._name.textContent,description:this._description.textContent,avatar:this._avatar.src}}},{key:"setUserInfo",value:function(t){var e=t.name,n=t.about,r=t.avatar;this._name.textContent=e,this._description.textContent=n,this._avatar.src=r}}])&&q(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function U(t){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U(t)}function D(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==U(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==U(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===U(o)?o:String(o)),r)}var o}function A(){return A="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=V(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},A.apply(this,arguments)}function F(t,e){return F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},F(t,e)}function V(t){return V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},V(t)}var N=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&F(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=V(r);if(o){var n=V(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===U(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e,n=t.popupSelector;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,n))._form=e._popup.querySelector(".popup__form"),e._buttonSave=e._popup.querySelector(".popup__button"),e}return e=u,(n=[{key:"setButtonText",value:function(t){this._buttonSave.textContent=t}},{key:"handleFormSubmit",value:function(t){this._handleFormSubmit=t}},{key:"setEventListeners",value:function(){var t=this;A(V(u.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(e){e.preventDefault(),t._handleFormSubmit()}))}}])&&D(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(v);function G(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var J,M=document.querySelector(".profile__edit-button"),H=document.querySelector(".popup__form-edit"),$=document.querySelector(".popup__add-form"),z=document.querySelector(".profile__add-button"),K=document.querySelector(".popup__input_edit_name"),Q=document.querySelector(".popup__input_edit_job"),W=document.querySelector(".profile__avatar-button"),X=document.querySelector(".popup__avatar-form"),Y=function(t,e){rt.open(t,e)},Z=new r({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-60/",headers:{authorization:"75152e04-3a03-4fa1-9a3f-fb5823365b53","Content-Type":"application/json"}}),tt=new h({renderer:function(t){tt.addItem(at(t))}},".elements"),et=new x({name:".profile__title",description:".profile__subtitle",avatar:".profile__avatar"}),nt=new N({popupSelector:".popup_gallery-delete"}),rt=new E(".popup_gallery"),ot=new T({popupSelector:".popup_prof",handleFormSubmit:function(t){ot.setButtonText("Сохранение..."),Z.editUserInfo(t).then((function(t){et.setUserInfo(t),ot.close()})).catch((function(t){console.error(t)})).finally((function(){return ot.setButtonText("Сохранить")}))}}),it=new T({popupSelector:".popup_add",handleFormSubmit:function(t){it.setButtonText("Сохранение..."),Z.addNewCard(t).then((function(t){tt.addItem(at(t)),it.close()})).catch((function(t){console.error(t)})).finally((function(){return it.setButtonText("Сохранить")}))}}),ut=new T({popupSelector:".popup_add-avatar",handleFormSubmit:function(t){ut.setButtonText("Сохранение..."),Z.setAvatar(t).then((function(t){et.setUserInfo(t),ut.close()})).catch((function(t){console.error(t)})).finally((function(){return ut.setButtonText("Сохранить")}))}}),at=function(t){var e=new u({dataCard:t,templateContainer:"#idElements",userId:J,openPopupGallery:Y,handleSetCardLike:function(t){Z.addLike(t).then((function(t){e.likeCardButton(t)})).catch((function(t){console.error(t)}))},handleDelCardLike:function(t){Z.removeLike(t).then((function(t){e.likeCardButton(t)})).catch((function(t){console.error(t)}))},handleDeleteCard:function(t){nt.open(),nt.handleFormSubmit((function(){nt.setButtonText("Удаление..."),Z.removeCard(t).then((function(){e.deleteCardButton(),nt.close()})).catch((function(t){console.error(t)})).finally((function(){nt.setButtonText("Да")}))}))}});return e.generateCard()},lt=new p(t,$),ct=new p(t,H),st=new p(t,X);W.addEventListener("click",(function(){ut.open(),st.resetValidation()})),M.addEventListener("click",(function(){ct.resetValidation();var t=et.getUserInfo();K.value=t.name,Q.value=t.description,ot.open()})),z.addEventListener("click",(function(){it.open(),lt.resetValidation()})),nt.setEventListeners(),rt.setEventListeners(),ot.setEventListeners(),it.setEventListeners(),ut.setEventListeners(),lt.enableValidation(),ct.enableValidation(),st.enableValidation(),Promise.all([Z.getUserInfo(),Z.getInitialCards()]).then((function(t){var e,n,r=(n=2,function(t){if(Array.isArray(t))return t}(e=t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,u,a=[],l=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(c)throw o}}return a}}(e,n)||function(t,e){if(t){if("string"==typeof t)return G(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?G(t,e):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];et.setUserInfo(o),J=o._id,tt.renderItems(i.reverse())})).catch((function(t){console.error(t)}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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d2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwRGVsZXRlQ2FyZC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9wYWdlcy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgYXBpQ29uZmlnID0ge1xyXG4gIGJhc2VVcmw6IFwiaHR0cHM6Ly9tZXN0by5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC02MC9cIixcclxuICBoZWFkZXJzOiB7XHJcbiAgICBhdXRob3JpemF0aW9uOiBcIjc1MTUyZTA0LTNhMDMtNGZhMS05YTNmLWZiNTgyMzM2NWI1M1wiLFxyXG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgfSxcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCB2YWxpZGF0aW9uQ29uZmlnID0ge1xyXG4gIGZvcm1TZWxlY3RvcjogXCIucG9wdXBfX2Zvcm1cIixcclxuICBpbnB1dFNlbGVjdG9yOiBcIi5wb3B1cF9faW5wdXRcIixcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIucG9wdXBfX2J1dHRvblwiLFxyXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwicG9wdXBfX2J1dHRvbl9kaXNhYmxlZFwiLFxyXG4gIGlucHV0RXJyb3JDbGFzczogXCJwb3B1cF9faW5wdXRfdHlwZV9lcnJvclwiLFxyXG4gIGVycm9yQ2xhc3M6IFwicG9wdXBfX2lucHV0LWVycm9yX3Zpc2libGVcIixcclxufTtcclxuXHJcbi8vIGV4cG9ydCBjb25zdCBpbml0aWFsQ2FyZHMgPSBbXHJcbi8vICAge1xyXG4vLyAgICAgbmFtZTogXCLQkNGA0YXRi9C3XCIsXHJcbi8vICAgICBsaW5rOiBcImh0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9hcmtoeXouanBnXCIsXHJcbi8vICAgfSxcclxuLy8gICB7XHJcbi8vICAgICBuYW1lOiBcItCn0LXQu9GP0LHQuNC90YHQutCw0Y8g0L7QsdC70LDRgdGC0YxcIixcclxuLy8gICAgIGxpbms6IFwiaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2NoZWx5YWJpbnNrLW9ibGFzdC5qcGdcIixcclxuLy8gICB9LFxyXG4vLyAgIHtcclxuLy8gICAgIG5hbWU6IFwi0JjQstCw0L3QvtCy0L5cIixcclxuLy8gICAgIGxpbms6IFwiaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2l2YW5vdm8uanBnXCIsXHJcbi8vICAgfSxcclxuLy8gICB7XHJcbi8vICAgICBuYW1lOiBcItCa0LDQvNGH0LDRgtC60LBcIixcclxuLy8gICAgIGxpbms6IFwiaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2thbWNoYXRrYS5qcGdcIixcclxuLy8gICB9LFxyXG4vLyAgIHtcclxuLy8gICAgIG5hbWU6IFwi0KXQvtC70LzQvtCz0L7RgNGB0LrQuNC5INGA0LDQudC+0L1cIixcclxuLy8gICAgIGxpbms6IFwiaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2tob2xtb2dvcnNreS1yYXlvbi5qcGdcIixcclxuLy8gICB9LFxyXG4vLyAgIHtcclxuLy8gICAgIG5hbWU6IFwi0JHQsNC50LrQsNC7XCIsXHJcbi8vICAgICBsaW5rOiBcImh0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9iYWlrYWwuanBnXCIsXHJcbi8vICAgfSxcclxuLy8gXTtcclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcclxuICBjb25zdHJ1Y3Rvcih7IGJhc2VVcmwsIGhlYWRlcnMgfSkge1xyXG4gICAgdGhpcy5fYmFzZVVybCA9IGJhc2VVcmw7XHJcbiAgICB0aGlzLl9oZWFkZXJzID0gaGVhZGVycztcclxuICB9XHJcblxyXG4gIF9jaGVja1Jlc3BvbnNlKHJlcykge1xyXG4gICAgaWYgKHJlcy5vaykge1xyXG4gICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChg0J7RiNC40LHQutCwOiAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xyXG4gIH1cclxuXHJcbiAgYWRkTmV3Q2FyZCh7IG5hbWUsIGxpbmsgfSkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbmFtZSxcclxuICAgICAgICBsaW5rLFxyXG4gICAgICB9KSxcclxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XHJcbiAgfVxyXG5cclxuICByZW1vdmVDYXJkKGlkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtpZH1gLCB7XHJcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XHJcbiAgfVxyXG5cclxuICBhZGRMaWtlKGlkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtpZH0vbGlrZXNgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQVVRcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XHJcbiAgfVxyXG5cclxuICByZW1vdmVMaWtlKGlkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtpZH0vbGlrZXNgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XHJcbiAgfVxyXG5cclxuICBzZXRBdmF0YXIoZGF0YSkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcclxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBhdmF0YXI6IGRhdGEubGluayxcclxuICAgICAgfSksXHJcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xyXG4gIH1cclxuXHJcbiAgZWRpdFVzZXJJbmZvKGRhdGEpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lOiBkYXRhLm5hbWUsXHJcbiAgICAgICAgYWJvdXQ6IGRhdGEuZGVzY3JpcHRpb24sXHJcbiAgICAgIH0pLFxyXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XHJcbiAgY29uc3RydWN0b3Ioe1xyXG4gICAgZGF0YUNhcmQsXHJcbiAgICB0ZW1wbGF0ZUNvbnRhaW5lcixcclxuICAgIHVzZXJJZCxcclxuICAgIG9wZW5Qb3B1cEdhbGxlcnksXHJcbiAgICBoYW5kbGVTZXRDYXJkTGlrZSxcclxuICAgIGhhbmRsZURlbENhcmRMaWtlLFxyXG4gICAgaGFuZGxlRGVsZXRlQ2FyZCxcclxuICB9KSB7XHJcbiAgICB0aGlzLl9uYW1lID0gZGF0YUNhcmQubmFtZTtcclxuICAgIHRoaXMuX2xpbmsgPSBkYXRhQ2FyZC5saW5rO1xyXG4gICAgdGhpcy5fbGlrZXMgPSBkYXRhQ2FyZC5saWtlcztcclxuICAgIHRoaXMuX2NhcmRJZCA9IGRhdGFDYXJkLl9pZDtcclxuICAgIHRoaXMuX2RhdGFDYXJkID0gZGF0YUNhcmQ7XHJcbiAgICB0aGlzLl91c2VySWQgPSB1c2VySWQ7XHJcbiAgICB0aGlzLl9vd25lcklkID0gZGF0YUNhcmQub3duZXIuX2lkO1xyXG4gICAgdGhpcy5fdGVtcGxhdGVDb250YWluZXIgPSB0ZW1wbGF0ZUNvbnRhaW5lcjtcclxuICAgIHRoaXMuX29wZW5Qb3B1cEdhbGxlcnkgPSBvcGVuUG9wdXBHYWxsZXJ5O1xyXG4gICAgdGhpcy5faGFuZGxlU2V0Q2FyZExpa2UgPSBoYW5kbGVTZXRDYXJkTGlrZTtcclxuICAgIHRoaXMuX2hhbmRsZURlbENhcmRMaWtlID0gaGFuZGxlRGVsQ2FyZExpa2U7XHJcbiAgICB0aGlzLl9oYW5kbGVEZWxldGVDYXJkID0gaGFuZGxlRGVsZXRlQ2FyZDtcclxuICB9XHJcblxyXG4gIF9nZXRUZW1wbGF0ZSgpIHtcclxuICAgIHJldHVybiBkb2N1bWVudFxyXG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl90ZW1wbGF0ZUNvbnRhaW5lcilcclxuICAgICAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50XCIpXHJcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgfVxyXG5cclxuICBfc2V0RGF0YSgpIHtcclxuICAgIHRoaXMuX2ltYWdlRWxlbWVudC5zcmMgPSB0aGlzLl9saW5rO1xyXG4gICAgdGhpcy5faW1hZ2VFbGVtZW50LmFsdCA9IHRoaXMuX25hbWU7XHJcbiAgICB0aGlzLl90aXRsZUVsZW1lbnQudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xyXG4gIH1cclxuXHJcbiAgZGVsZXRlQ2FyZEJ1dHRvbigpIHtcclxuICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlKCk7XHJcbiAgfVxyXG5cclxuICBsaWtlQ2FyZEJ1dHRvbihkYXRhQ2FyZCkge1xyXG4gICAgdGhpcy5fbGlrZXMgPSBkYXRhQ2FyZC5saWtlcztcclxuICAgIHRoaXMuX2xpa2VzQ291bnRlci50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VzLmxlbmd0aDtcclxuICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LnRvZ2dsZShcImVsZW1lbnRfX2xpa2UtYnV0dG9uX2FjdGl2ZVwiKTtcclxuICB9XHJcblxyXG4gIF9saWtlU3RhdHVzKCkge1xyXG4gICAgaWYgKFxyXG4gICAgICB0aGlzLl9saWtlcy5zb21lKCh1c2VyKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3VzZXJJZCA9PT0gdXNlci5faWQ7XHJcbiAgICAgIH0pXHJcbiAgICApIHtcclxuICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiZWxlbWVudF9fbGlrZS1idXR0b25fYWN0aXZlXCIpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX3NldERlbGV0ZUJ1dHRvbigpIHtcclxuICAgIGlmICh0aGlzLl91c2VySWQgIT09IHRoaXMuX293bmVySWQpIHtcclxuICAgICAgdGhpcy5fZGVsZXRlQnV0dG9uLnJlbW92ZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX2FkZEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5jb250YWlucyhcImVsZW1lbnRfX2xpa2UtYnV0dG9uX2FjdGl2ZVwiKVxyXG4gICAgICAgID8gdGhpcy5faGFuZGxlRGVsQ2FyZExpa2UodGhpcy5fY2FyZElkKVxyXG4gICAgICAgIDogdGhpcy5faGFuZGxlU2V0Q2FyZExpa2UodGhpcy5fY2FyZElkKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT5cclxuICAgICAgdGhpcy5faGFuZGxlRGVsZXRlQ2FyZCh0aGlzLl9jYXJkSWQpXHJcbiAgICApO1xyXG4gICAgdGhpcy5faW1hZ2VFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX29wZW5Qb3B1cEdhbGxlcnkodGhpcy5fZGF0YUNhcmQpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBnZW5lcmF0ZUNhcmQoKSB7XHJcbiAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcclxuICAgIHRoaXMuX2ltYWdlRWxlbWVudCA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19pbWFnZVwiKTtcclxuICAgIHRoaXMuX3RpdGxlRWxlbWVudCA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X190aXRsZVwiKTtcclxuICAgIHRoaXMuX2xpa2VCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fbGlrZS1idXR0b25cIik7XHJcbiAgICB0aGlzLl9kZWxldGVCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fZGVsZXRlXCIpO1xyXG4gICAgdGhpcy5fbGlrZXNDb3VudGVyID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2xpa2UtY291bnRcIik7XHJcbiAgICB0aGlzLl9saWtlc0NvdW50ZXIudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlcy5sZW5ndGg7XHJcbiAgICB0aGlzLl9saWtlU3RhdHVzKCk7XHJcbiAgICB0aGlzLl9zZXREZWxldGVCdXR0b24oKTtcclxuICAgIHRoaXMuX3NldERhdGEoKTtcclxuICAgIHRoaXMuX2FkZEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgY29uc3RydWN0b3IoY29uZmlnLCBmb3JtRWxlbWVudCkge1xyXG4gICAgdGhpcy5fZm9ybVNlbGVjdG9yID0gY29uZmlnLmZvcm1TZWxlY3RvcjtcclxuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBjb25maWcuaW5wdXRTZWxlY3RvcjtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gY29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xyXG4gICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IGNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xyXG4gICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gY29uZmlnLmlucHV0RXJyb3JDbGFzcztcclxuICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSBjb25maWcuZXJyb3JDbGFzcztcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7XHJcbiAgICB0aGlzLl9idXR0b25FbGVtZW50ID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBbLi4uZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKV07XHJcbiAgfVxyXG5cclxuICBfc2hvd0lucHV0RXJyb3IgPSAoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcclxuICAgICk7XHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2U7XHJcbiAgfTtcclxuXHJcbiAgX2hpZGVJbnB1dEVycm9yID0gKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXHJcbiAgICApO1xyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcclxuICB9O1xyXG5cclxuICBlbmFibGVCdXR0b24gPSAoKSA9PiB7XHJcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XHJcbiAgfTtcclxuXHJcbiAgZGlzYWJsZUJ1dHRvbiA9ICgpID0+IHtcclxuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlO1xyXG4gIH07XHJcblxyXG4gIF90b2dnbGVCdXR0b25TdGF0ZSA9ICgpID0+IHtcclxuICAgIGNvbnN0IGlzRm9ybUludmFsaWQgPSB0aGlzLl9pbnB1dExpc3Quc29tZShcclxuICAgICAgKGlucHV0RWxlbWVudCkgPT4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZFxyXG4gICAgKTtcclxuXHJcbiAgICBpc0Zvcm1JbnZhbGlkID8gdGhpcy5kaXNhYmxlQnV0dG9uKCkgOiB0aGlzLmVuYWJsZUJ1dHRvbigpO1xyXG4gIH07XHJcblxyXG4gIF92YWxpZGF0ZUlucHV0ID0gKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgY29uc3QgaXNJbnB1dFZhbGlkID0gaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xyXG4gICAgaXNJbnB1dFZhbGlkXHJcbiAgICAgID8gdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KVxyXG4gICAgICA6IHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgfTtcclxuXHJcbiAgZW5hYmxlVmFsaWRhdGlvbiA9ICgpID0+IHtcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fdmFsaWRhdGVJbnB1dChpbnB1dEVsZW1lbnQpO1xyXG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgcmVzZXRWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcclxuICBjb25zdHJ1Y3Rvcih7IHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICByZW5kZXJJdGVtcyhpdGVtcykge1xyXG4gICAgaXRlbXMuZm9yRWFjaCh0aGlzLl9yZW5kZXJlcik7XHJcbiAgfVxyXG5cclxuICBhZGRJdGVtKGVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5fcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fY2xvc2VCdXR0b24gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19jbG9zZWRcIik7XHJcbiAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcyk7XHJcbiAgfVxyXG5cclxuICBvcGVuKCkge1xyXG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZChcInBvcHVwX29wZW5lZFwiKTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX29wZW5lZFwiKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVFc2NDbG9zZShldmVudCkge1xyXG4gICAgaWYgKGV2ZW50LmtleSA9PT0gXCJFc2NhcGVcIikge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2Nsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGlmIChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInBvcHVwXCIpKSB7XHJcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX3BvcHVwSW1hZ2UgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19nYWxsZXJ5LXBob3RvXCIpO1xyXG4gICAgdGhpcy5fcG9wdXBJbWFnZU5hbWUgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBcIi5wb3B1cF9faW1hZ2UtZGVzY3JpcHRpb25cIlxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIG9wZW4oeyBuYW1lLCBsaW5rIH0pIHtcclxuICAgIHRoaXMuX3BvcHVwSW1hZ2Uuc3JjID0gbGluaztcclxuICAgIHRoaXMuX3BvcHVwSW1hZ2UuYWx0ID0gbmFtZTtcclxuICAgIHRoaXMuX3BvcHVwSW1hZ2VOYW1lLnRleHRDb250ZW50ID0gbmFtZTtcclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHsgcG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCB9KSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtXCIpO1xyXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKFwiLnBvcHVwX19pbnB1dFwiKTtcclxuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xyXG4gICAgdGhpcy5fYnV0dG9uU2F2ZSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2J1dHRvblwiKTtcclxuICB9XHJcblxyXG4gIHNldEJ1dHRvblRleHQodGV4dCkge1xyXG4gICAgdGhpcy5fYnV0dG9uU2F2ZS50ZXh0Q29udGVudCA9IHRleHQ7XHJcbiAgfVxyXG5cclxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICBjb25zdCB2YWx1ZXMgPSB7fTtcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICB2YWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHZhbHVlcztcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzID0gKCkgPT4ge1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIHRoaXMuX2Zvcm0ucmVzZXQoKTtcclxuICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcclxuICBjb25zdHJ1Y3Rvcih7IG5hbWUsIGRlc2NyaXB0aW9uLCBhdmF0YXIgfSkge1xyXG4gICAgdGhpcy5fbmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobmFtZSk7XHJcbiAgICB0aGlzLl9kZXNjcmlwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZGVzY3JpcHRpb24pO1xyXG4gICAgdGhpcy5fYXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhdmF0YXIpO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBuYW1lOiB0aGlzLl9uYW1lLnRleHRDb250ZW50LFxyXG4gICAgICBkZXNjcmlwdGlvbjogdGhpcy5fZGVzY3JpcHRpb24udGV4dENvbnRlbnQsXHJcbiAgICAgIGF2YXRhcjogdGhpcy5fYXZhdGFyLnNyYyxcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBzZXRVc2VySW5mbyh7IG5hbWUsIGFib3V0LCBhdmF0YXIgfSkge1xyXG4gICAgdGhpcy5fbmFtZS50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgICB0aGlzLl9kZXNjcmlwdGlvbi50ZXh0Q29udGVudCA9IGFib3V0O1xyXG4gICAgdGhpcy5fYXZhdGFyLnNyYyA9IGF2YXRhcjtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cERlbGV0ZUNhcmQgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IoeyBwb3B1cFNlbGVjdG9yIH0pIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1cIik7XHJcbiAgICB0aGlzLl9idXR0b25TYXZlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fYnV0dG9uXCIpO1xyXG4gIH1cclxuXHJcbiAgc2V0QnV0dG9uVGV4dCh0ZXh0KSB7XHJcbiAgICB0aGlzLl9idXR0b25TYXZlLnRleHRDb250ZW50ID0gdGV4dDtcclxuICB9XHJcblxyXG4gIGhhbmRsZUZvcm1TdWJtaXQoc3VibWl0KSB7XHJcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gc3VibWl0O1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQoKTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xyXG5cclxuaW1wb3J0IHsgdmFsaWRhdGlvbkNvbmZpZywgYXBpQ29uZmlnIH0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xyXG5pbXBvcnQgQXBpIGZyb20gXCIuLi9jb21wb25lbnRzL0FwaS5qc1wiO1xyXG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XHJcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcclxuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvblwiO1xyXG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xyXG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcclxuaW1wb3J0IFBvcHVwRGVsZXRlQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cERlbGV0ZUNhcmQuanNcIjtcclxuXHJcbmNvbnN0IHBvcHVwRWRpdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZWRpdC1idXR0b25cIik7XHJcbmNvbnN0IHBvcHVwRWRpdEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtLWVkaXRcIik7XHJcbmNvbnN0IHBvcHVwQWRkRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2FkZC1mb3JtXCIpO1xyXG5jb25zdCBwb3B1cEFkZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYWRkLWJ1dHRvblwiKTtcclxuY29uc3QgcG9wdXBQcm9maWxlTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2lucHV0X2VkaXRfbmFtZVwiKTtcclxuY29uc3QgcG9wdXBQcm9maWxlSm9iID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW5wdXRfZWRpdF9qb2JcIik7XHJcbmNvbnN0IHByb2ZpbGVBdmF0YXJidXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2F2YXRhci1idXR0b25cIik7XHJcbmNvbnN0IHBvcHVwQXZhdGFyRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2F2YXRhci1mb3JtXCIpO1xyXG5sZXQgdXNlcklkO1xyXG5cclxuY29uc3Qgb3BlblBvcHVwR2FsbGVyeSA9IChuYW1lLCBsaW5rKSA9PiB7XHJcbiAgcG9wdXBHYWxsZXJ5Lm9wZW4obmFtZSwgbGluayk7XHJcbn07XHJcblxyXG5jb25zdCBhcGkgPSBuZXcgQXBpKGFwaUNvbmZpZyk7XHJcblxyXG5jb25zdCBjYXJkU2VjdGlvbiA9IG5ldyBTZWN0aW9uKFxyXG4gIHtcclxuICAgIHJlbmRlcmVyOiAoZGF0YSkgPT4ge1xyXG4gICAgICBjYXJkU2VjdGlvbi5hZGRJdGVtKGNyZWF0ZUdhbGVyeShkYXRhKSk7XHJcbiAgICB9LFxyXG4gIH0sXHJcbiAgXCIuZWxlbWVudHNcIlxyXG4pO1xyXG5cclxuY29uc3Qgc2F2ZUlucHV0SW5mbyA9IG5ldyBVc2VySW5mbyh7XHJcbiAgbmFtZTogXCIucHJvZmlsZV9fdGl0bGVcIixcclxuICBkZXNjcmlwdGlvbjogXCIucHJvZmlsZV9fc3VidGl0bGVcIixcclxuICBhdmF0YXI6IFwiLnByb2ZpbGVfX2F2YXRhclwiLFxyXG59KTtcclxuXHJcbmNvbnN0IHBvcHVwRGVsQ2FyZCA9IG5ldyBQb3B1cERlbGV0ZUNhcmQoe1xyXG4gIHBvcHVwU2VsZWN0b3I6IFwiLnBvcHVwX2dhbGxlcnktZGVsZXRlXCIsXHJcbn0pO1xyXG5cclxuY29uc3QgcG9wdXBHYWxsZXJ5ID0gbmV3IFBvcHVwV2l0aEltYWdlKFwiLnBvcHVwX2dhbGxlcnlcIik7XHJcblxyXG5jb25zdCBwb3B1cEVkaXQgPSBuZXcgUG9wdXBXaXRoRm9ybSh7XHJcbiAgcG9wdXBTZWxlY3RvcjogXCIucG9wdXBfcHJvZlwiLFxyXG4gIGhhbmRsZUZvcm1TdWJtaXQ6IChmb3JtRGF0YSkgPT4ge1xyXG4gICAgcG9wdXBFZGl0LnNldEJ1dHRvblRleHQoXCLQodC+0YXRgNCw0L3QtdC90LjQtS4uLlwiKTtcclxuICAgIGFwaVxyXG4gICAgICAuZWRpdFVzZXJJbmZvKGZvcm1EYXRhKVxyXG4gICAgICAudGhlbigoZm9ybURhdGEpID0+IHtcclxuICAgICAgICBzYXZlSW5wdXRJbmZvLnNldFVzZXJJbmZvKGZvcm1EYXRhKTtcclxuICAgICAgICBwb3B1cEVkaXQuY2xvc2UoKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5maW5hbGx5KCgpID0+IHBvcHVwRWRpdC5zZXRCdXR0b25UZXh0KFwi0KHQvtGF0YDQsNC90LjRgtGMXCIpKTtcclxuICB9LFxyXG59KTtcclxuXHJcbmNvbnN0IHBvcHVwQWRkID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xyXG4gIHBvcHVwU2VsZWN0b3I6IFwiLnBvcHVwX2FkZFwiLFxyXG4gIGhhbmRsZUZvcm1TdWJtaXQ6IChmb3JtRGF0YSkgPT4ge1xyXG4gICAgcG9wdXBBZGQuc2V0QnV0dG9uVGV4dChcItCh0L7RhdGA0LDQvdC10L3QuNC1Li4uXCIpO1xyXG4gICAgYXBpXHJcbiAgICAgIC5hZGROZXdDYXJkKGZvcm1EYXRhKVxyXG4gICAgICAudGhlbigoZm9ybURhdGEpID0+IHtcclxuICAgICAgICBjYXJkU2VjdGlvbi5hZGRJdGVtKGNyZWF0ZUdhbGVyeShmb3JtRGF0YSkpO1xyXG4gICAgICAgIHBvcHVwQWRkLmNsb3NlKCk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgICB9KVxyXG4gICAgICAuZmluYWxseSgoKSA9PiBwb3B1cEFkZC5zZXRCdXR0b25UZXh0KFwi0KHQvtGF0YDQsNC90LjRgtGMXCIpKTtcclxuICB9LFxyXG59KTtcclxuXHJcbmNvbnN0IHBvcHVwRWRpdEF2YXRhciA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcclxuICBwb3B1cFNlbGVjdG9yOiBcIi5wb3B1cF9hZGQtYXZhdGFyXCIsXHJcbiAgaGFuZGxlRm9ybVN1Ym1pdDogKGZvcm1EYXRhKSA9PiB7XHJcbiAgICBwb3B1cEVkaXRBdmF0YXIuc2V0QnV0dG9uVGV4dChcItCh0L7RhdGA0LDQvdC10L3QuNC1Li4uXCIpO1xyXG4gICAgYXBpXHJcbiAgICAgIC5zZXRBdmF0YXIoZm9ybURhdGEpXHJcbiAgICAgIC50aGVuKChmb3JtRGF0YSkgPT4ge1xyXG4gICAgICAgIHNhdmVJbnB1dEluZm8uc2V0VXNlckluZm8oZm9ybURhdGEpO1xyXG4gICAgICAgIHBvcHVwRWRpdEF2YXRhci5jbG9zZSgpO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgICAgfSlcclxuICAgICAgLmZpbmFsbHkoKCkgPT4gcG9wdXBFZGl0QXZhdGFyLnNldEJ1dHRvblRleHQoXCLQodC+0YXRgNCw0L3QuNGC0YxcIikpO1xyXG4gIH0sXHJcbn0pO1xyXG5cclxuY29uc3QgY3JlYXRlR2FsZXJ5ID0gKGRhdGFDYXJkKSA9PiB7XHJcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKHtcclxuICAgIGRhdGFDYXJkLFxyXG4gICAgdGVtcGxhdGVDb250YWluZXI6IFwiI2lkRWxlbWVudHNcIixcclxuICAgIHVzZXJJZCxcclxuICAgIG9wZW5Qb3B1cEdhbGxlcnksXHJcbiAgICBoYW5kbGVTZXRDYXJkTGlrZShjYXJkSWQpIHtcclxuICAgICAgYXBpXHJcbiAgICAgICAgLmFkZExpa2UoY2FyZElkKVxyXG4gICAgICAgIC50aGVuKChkYXRhQ2FyZCkgPT4ge1xyXG4gICAgICAgICAgY2FyZC5saWtlQ2FyZEJ1dHRvbihkYXRhQ2FyZCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSxcclxuICAgIGhhbmRsZURlbENhcmRMaWtlKGNhcmRJZCkge1xyXG4gICAgICBhcGlcclxuICAgICAgICAucmVtb3ZlTGlrZShjYXJkSWQpXHJcbiAgICAgICAgLnRoZW4oKGRhdGFDYXJkKSA9PiB7XHJcbiAgICAgICAgICBjYXJkLmxpa2VDYXJkQnV0dG9uKGRhdGFDYXJkKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9LFxyXG4gICAgaGFuZGxlRGVsZXRlQ2FyZChjYXJkSWQpIHtcclxuICAgICAgcG9wdXBEZWxDYXJkLm9wZW4oKTtcclxuICAgICAgcG9wdXBEZWxDYXJkLmhhbmRsZUZvcm1TdWJtaXQoKCkgPT4ge1xyXG4gICAgICAgIHBvcHVwRGVsQ2FyZC5zZXRCdXR0b25UZXh0KFwi0KPQtNCw0LvQtdC90LjQtS4uLlwiKTtcclxuICAgICAgICBhcGlcclxuICAgICAgICAgIC5yZW1vdmVDYXJkKGNhcmRJZClcclxuICAgICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgY2FyZC5kZWxldGVDYXJkQnV0dG9uKCk7XHJcbiAgICAgICAgICAgIHBvcHVwRGVsQ2FyZC5jbG9zZSgpO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgICAgICAgIHBvcHVwRGVsQ2FyZC5zZXRCdXR0b25UZXh0KFwi0JTQsFwiKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgIH0sXHJcbiAgfSk7XHJcbiAgcmV0dXJuIGNhcmQuZ2VuZXJhdGVDYXJkKCk7XHJcbn07XHJcblxyXG5jb25zdCBwb3B1cEFkZEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uQ29uZmlnLCBwb3B1cEFkZEZvcm0pO1xyXG5jb25zdCBwb3B1cEVkaXRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoXHJcbiAgdmFsaWRhdGlvbkNvbmZpZyxcclxuICBwb3B1cEVkaXRGb3JtXHJcbik7XHJcbmNvbnN0IHBvcHVwQXZhdGFyRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKFxyXG4gIHZhbGlkYXRpb25Db25maWcsXHJcbiAgcG9wdXBBdmF0YXJGb3JtXHJcbik7XHJcblxyXG5jb25zdCBoYW5kbGVBZGRCdXR0b25DbGljayA9ICgpID0+IHtcclxuICBwb3B1cEFkZC5vcGVuKCk7XHJcbiAgcG9wdXBBZGRGb3JtVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpO1xyXG59O1xyXG5cclxuY29uc3QgaGFuZGxlRWRpdEJ1dHRvbkNsaWNrID0gKCkgPT4ge1xyXG4gIHBvcHVwRWRpdEZvcm1WYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XHJcbiAgY29uc3QgcHJvZmlsZUluZm8gPSBzYXZlSW5wdXRJbmZvLmdldFVzZXJJbmZvKCk7XHJcbiAgcG9wdXBQcm9maWxlTmFtZS52YWx1ZSA9IHByb2ZpbGVJbmZvLm5hbWU7XHJcbiAgcG9wdXBQcm9maWxlSm9iLnZhbHVlID0gcHJvZmlsZUluZm8uZGVzY3JpcHRpb247XHJcbiAgcG9wdXBFZGl0Lm9wZW4oKTtcclxufTtcclxuXHJcbnByb2ZpbGVBdmF0YXJidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBwb3B1cEVkaXRBdmF0YXIub3BlbigpO1xyXG4gIHBvcHVwQXZhdGFyRm9ybVZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTtcclxufSk7XHJcblxyXG5wb3B1cEVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZUVkaXRCdXR0b25DbGljayk7XHJcbnBvcHVwQWRkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVBZGRCdXR0b25DbGljayk7XHJcblxyXG5wb3B1cERlbENhcmQuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxucG9wdXBHYWxsZXJ5LnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbnBvcHVwRWRpdC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5wb3B1cEFkZC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5wb3B1cEVkaXRBdmF0YXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbnBvcHVwQWRkRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbnBvcHVwRWRpdEZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5wb3B1cEF2YXRhckZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuUHJvbWlzZS5hbGwoW2FwaS5nZXRVc2VySW5mbygpLCBhcGkuZ2V0SW5pdGlhbENhcmRzKCldKVxyXG4gIC50aGVuKChbaW5mbywgY2FyZHNdKSA9PiB7XHJcbiAgICBzYXZlSW5wdXRJbmZvLnNldFVzZXJJbmZvKGluZm8pO1xyXG4gICAgdXNlcklkID0gaW5mby5faWQ7XHJcbiAgICBjYXJkU2VjdGlvbi5yZW5kZXJJdGVtcyhjYXJkcy5yZXZlcnNlKCkpO1xyXG4gIH0pXHJcbiAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICB9KTtcclxuIl0sIm5hbWVzIjpbInZhbGlkYXRpb25Db25maWciLCJmb3JtU2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsIkFwaSIsImJhc2VVcmwiLCJoZWFkZXJzIiwidGhpcyIsIl9iYXNlVXJsIiwiX2hlYWRlcnMiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiZmV0Y2giLCJ0aGVuIiwiX2NoZWNrUmVzcG9uc2UiLCJuYW1lIiwibGluayIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiaWQiLCJkYXRhIiwiYXZhdGFyIiwiYWJvdXQiLCJkZXNjcmlwdGlvbiIsIkNhcmQiLCJkYXRhQ2FyZCIsInRlbXBsYXRlQ29udGFpbmVyIiwidXNlcklkIiwib3BlblBvcHVwR2FsbGVyeSIsImhhbmRsZVNldENhcmRMaWtlIiwiaGFuZGxlRGVsQ2FyZExpa2UiLCJoYW5kbGVEZWxldGVDYXJkIiwiX25hbWUiLCJfbGluayIsIl9saWtlcyIsImxpa2VzIiwiX2NhcmRJZCIsIl9pZCIsIl9kYXRhQ2FyZCIsIl91c2VySWQiLCJfb3duZXJJZCIsIm93bmVyIiwiX3RlbXBsYXRlQ29udGFpbmVyIiwiX29wZW5Qb3B1cEdhbGxlcnkiLCJfaGFuZGxlU2V0Q2FyZExpa2UiLCJfaGFuZGxlRGVsQ2FyZExpa2UiLCJfaGFuZGxlRGVsZXRlQ2FyZCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfaW1hZ2VFbGVtZW50Iiwic3JjIiwiYWx0IiwiX3RpdGxlRWxlbWVudCIsInRleHRDb250ZW50IiwiX2VsZW1lbnQiLCJyZW1vdmUiLCJfbGlrZXNDb3VudGVyIiwibGVuZ3RoIiwiX2xpa2VCdXR0b24iLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJzb21lIiwidXNlciIsImFkZCIsIl9kZWxldGVCdXR0b24iLCJhZGRFdmVudExpc3RlbmVyIiwiY29udGFpbnMiLCJfZ2V0VGVtcGxhdGUiLCJfbGlrZVN0YXR1cyIsIl9zZXREZWxldGVCdXR0b24iLCJfc2V0RGF0YSIsIl9hZGRFdmVudExpc3RlbmVycyIsIkZvcm1WYWxpZGF0b3IiLCJjb25maWciLCJmb3JtRWxlbWVudCIsImlucHV0RWxlbWVudCIsImVycm9yRWxlbWVudCIsIl9mb3JtRWxlbWVudCIsIl9pbnB1dEVycm9yQ2xhc3MiLCJfZXJyb3JDbGFzcyIsInZhbGlkYXRpb25NZXNzYWdlIiwiX2J1dHRvbkVsZW1lbnQiLCJfaW5hY3RpdmVCdXR0b25DbGFzcyIsImRpc2FibGVkIiwiX2lucHV0TGlzdCIsInZhbGlkaXR5IiwidmFsaWQiLCJkaXNhYmxlQnV0dG9uIiwiZW5hYmxlQnV0dG9uIiwiX2hpZGVJbnB1dEVycm9yIiwiX3Nob3dJbnB1dEVycm9yIiwiZm9yRWFjaCIsIl92YWxpZGF0ZUlucHV0IiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiX2Zvcm1TZWxlY3RvciIsIl9pbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwicXVlcnlTZWxlY3RvckFsbCIsIlNlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsInJlbmRlcmVyIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsIml0ZW1zIiwiZWxlbWVudCIsInByZXBlbmQiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJfcG9wdXAiLCJfY2xvc2VCdXR0b24iLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImV2ZW50Iiwia2V5IiwiY2xvc2UiLCJldnQiLCJ0YXJnZXQiLCJQb3B1cFdpdGhJbWFnZSIsIl9wb3B1cEltYWdlIiwiX3BvcHVwSW1hZ2VOYW1lIiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZUZvcm1TdWJtaXQiLCJfZm9ybSIsInByZXZlbnREZWZhdWx0IiwiX2hhbmRsZUZvcm1TdWJtaXQiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJfYnV0dG9uU2F2ZSIsInRleHQiLCJ2YWx1ZXMiLCJpbnB1dCIsInZhbHVlIiwicmVzZXQiLCJVc2VySW5mbyIsIl9kZXNjcmlwdGlvbiIsIl9hdmF0YXIiLCJQb3B1cERlbGV0ZUNhcmQiLCJzdWJtaXQiLCJwb3B1cEVkaXRCdXR0b24iLCJwb3B1cEVkaXRGb3JtIiwicG9wdXBBZGRGb3JtIiwicG9wdXBBZGRCdXR0b24iLCJwb3B1cFByb2ZpbGVOYW1lIiwicG9wdXBQcm9maWxlSm9iIiwicHJvZmlsZUF2YXRhcmJ1dHRvbiIsInBvcHVwQXZhdGFyRm9ybSIsInBvcHVwR2FsbGVyeSIsIm9wZW4iLCJhcGkiLCJhdXRob3JpemF0aW9uIiwiY2FyZFNlY3Rpb24iLCJhZGRJdGVtIiwiY3JlYXRlR2FsZXJ5Iiwic2F2ZUlucHV0SW5mbyIsInBvcHVwRGVsQ2FyZCIsInBvcHVwRWRpdCIsImZvcm1EYXRhIiwic2V0QnV0dG9uVGV4dCIsImVkaXRVc2VySW5mbyIsInNldFVzZXJJbmZvIiwiY2F0Y2giLCJlcnIiLCJjb25zb2xlIiwiZXJyb3IiLCJmaW5hbGx5IiwicG9wdXBBZGQiLCJhZGROZXdDYXJkIiwicG9wdXBFZGl0QXZhdGFyIiwic2V0QXZhdGFyIiwiY2FyZCIsImNhcmRJZCIsImFkZExpa2UiLCJsaWtlQ2FyZEJ1dHRvbiIsInJlbW92ZUxpa2UiLCJyZW1vdmVDYXJkIiwiZGVsZXRlQ2FyZEJ1dHRvbiIsImdlbmVyYXRlQ2FyZCIsInBvcHVwQWRkRm9ybVZhbGlkYXRvciIsInBvcHVwRWRpdEZvcm1WYWxpZGF0b3IiLCJwb3B1cEF2YXRhckZvcm1WYWxpZGF0b3IiLCJyZXNldFZhbGlkYXRpb24iLCJwcm9maWxlSW5mbyIsImdldFVzZXJJbmZvIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJlbmFibGVWYWxpZGF0aW9uIiwiYWxsIiwiZ2V0SW5pdGlhbENhcmRzIiwiaW5mbyIsImNhcmRzIiwicmVuZGVySXRlbXMiLCJyZXZlcnNlIl0sInNvdXJjZVJvb3QiOiIifQ==