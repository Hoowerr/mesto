(()=>{"use strict";var t={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__input-error_visible"};function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function n(t,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,i=function(t,n){if("object"!==e(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,"string");if("object"!==e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===e(i)?i:String(i)),o)}var i}var r=function(){function t(e){var n=e.baseUrl,r=e.headers;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._baseUrl=n,this._headers=r}var e,r;return e=t,(r=[{key:"_checkResponse",value:function(t){return t.ok?t.json():Promise.reject("Ошибка: ".concat(t.status))}},{key:"getInitialCards",value:function(){return fetch("".concat(this._baseUrl,"/cards"),{headers:this._headers}).then(this._checkResponse)}},{key:"addNewCard",value:function(t){var e=t.name,n=t.link;return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:e,link:n})}).then(this._checkResponse)}},{key:"removeCard",value:function(t){return fetch("".concat(this._baseUrl,"/cards/").concat(t),{method:"DELETE",headers:this._headers}).then(this._checkResponse)}},{key:"addLike",value:function(t){return fetch("".concat(this._baseUrl,"/cards/").concat(t,"/likes"),{method:"PUT",headers:this._headers}).then(this._checkResponse)}},{key:"removeLike",value:function(t){return fetch("".concat(this._baseUrl,"/cards/").concat(t,"/likes"),{method:"DELETE",headers:this._headers}).then(this._checkResponse)}},{key:"setAvatar",value:function(t){return fetch("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:t.link})}).then(this._checkResponse)}},{key:"getUserInfo",value:function(){return fetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers}).then(this._checkResponse)}},{key:"editUserInfo",value:function(t){return fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:t.name,about:t.description})}).then(this._checkResponse)}}])&&n(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,i=function(t,e){if("object"!==o(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===o(i)?i:String(i)),r)}var i}var u=function(){function t(e){var n=e.dataCard,r=e.templateContainer,o=e.userId,i=e.openPopupGallery,u=e.handleSetCardLike,a=e.handleDelCardLike,l=e.handleDeleteCard;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._name=n.name,this._link=n.link,this._likes=n.likes,this._cardId=n._id,this._dataCard=n,this._userId=o,this._ownerId=n.owner._id,this._templateContainer=r,this._openPopupGallery=i,this._handleSetCardLike=u,this._handleDelCardLike=a,this._handleDeleteCard=l}var e,n;return e=t,(n=[{key:"_getTemplate",value:function(){return document.querySelector(this._templateContainer).content.querySelector(".element").cloneNode(!0)}},{key:"_setData",value:function(){this._imageElement.src=this._link,this._imageElement.alt=this._name,this._titleElement.textContent=this._name}},{key:"deleteCardButton",value:function(){this._element.remove()}},{key:"likeCardButton",value:function(t){this._likes=t.likes,this._likesCounter.textContent=this._likes.length,this._likeButton.classList.toggle("element__like-button_active")}},{key:"_likeStatus",value:function(){var t=this;this._likes.some((function(e){return t._userId===e._id}))&&this._likeButton.classList.add("element__like-button_active")}},{key:"_setDeleteButton",value:function(){this._userId!==this._ownerId&&this._deleteButton.remove()}},{key:"_addEventListeners",value:function(){var t=this;this._likeButton.addEventListener("click",(function(){t._likeButton.classList.contains("element__like-button_active")?t._handleDelCardLike(t._cardId):t._handleSetCardLike(t._cardId)})),this._deleteButton.addEventListener("click",(function(){return t._handleDeleteCard(t._cardId)})),this._imageElement.addEventListener("click",(function(){t._openPopupGallery(t._dataCard)}))}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._imageElement=this._element.querySelector(".element__image"),this._titleElement=this._element.querySelector(".element__title"),this._likeButton=this._element.querySelector(".element__like-button"),this._deleteButton=this._element.querySelector(".element__delete"),this._likesCounter=this._element.querySelector(".element__like-count"),this._likesCounter.textContent=this._likes.length,this._likeStatus(),this._setDeleteButton(),this._setData(),this._addEventListeners(),this._element}}])&&i(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,f(r.key),r)}}function s(t,e,n){return(e=f(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(t){var e=function(t,e){if("object"!==a(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===a(e)?e:String(e)}var p=function(){function t(e,n){var r,o=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,"_showInputError",(function(t){var e=o._formElement.querySelector(".".concat(t.id,"-error"));t.classList.add(o._inputErrorClass),e.classList.add(o._errorClass),e.textContent=t.validationMessage})),s(this,"_hideInputError",(function(t){var e=o._formElement.querySelector(".".concat(t.id,"-error"));t.classList.remove(o._inputErrorClass),e.classList.remove(o._errorClass),e.textContent=""})),s(this,"enableButton",(function(){o._buttonElement.classList.remove(o._inactiveButtonClass),o._buttonElement.disabled=!1})),s(this,"disableButton",(function(){o._buttonElement.classList.add(o._inactiveButtonClass),o._buttonElement.disabled=!0})),s(this,"_toggleButtonState",(function(){o._inputList.some((function(t){return!t.validity.valid}))?o.disableButton():o.enableButton()})),s(this,"_validateInput",(function(t){t.validity.valid?o._hideInputError(t):o._showInputError(t)})),s(this,"enableValidation",(function(){o._inputList.forEach((function(t){t.addEventListener("input",(function(){o._validateInput(t),o._toggleButtonState()}))}))})),this._formSelector=e.formSelector,this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._formElement=n,this._buttonElement=n.querySelector(this._submitButtonSelector),this._inputList=function(t){if(Array.isArray(t))return l(t)}(r=n.querySelectorAll(this._inputSelector))||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(r)||function(t,e){if(t){if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var e,n;return e=t,(n=[{key:"resetValidation",value:function(){var t=this;this._toggleButtonState(),this._inputList.forEach((function(e){t._hideInputError(e)}))}}])&&c(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==y(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===y(o)?o:String(o)),r)}var o}var h=function(){function t(e,n){var r=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._renderer=r,this._container=document.querySelector(n)}var e,n;return e=t,(n=[{key:"renderItems",value:function(t){t.forEach(this._renderer)}},{key:"addItem",value:function(t){this._container.prepend(t)}}])&&d(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==m(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===m(o)?o:String(o)),r)}var o}var v=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._popup=document.querySelector(e),this._closeButton=this._popup.querySelector(".popup__closed"),this._handleEscClose=this._handleEscClose.bind(this)}var e,n;return e=t,(n=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(t){"Escape"===t.key&&this.close()}},{key:"setEventListeners",value:function(){var t=this;this._closeButton.addEventListener("click",(function(){t.close()})),this._popup.addEventListener("mousedown",(function(e){e.target.classList.contains("popup")&&t.close()}))}}])&&b(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function _(t){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_(t)}function S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==_(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===_(o)?o:String(o)),r)}var o}function g(){return g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=k(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},g.apply(this,arguments)}function w(t,e){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},w(t,e)}function k(t){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},k(t)}var E=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=k(r);if(o){var n=k(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===_(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t))._popupImage=e._popup.querySelector(".popup__gallery-photo"),e._popupImageName=e._popup.querySelector(".popup__image-description"),e}return e=u,(n=[{key:"open",value:function(t){var e=t.name,n=t.link;this._popupImage.src=n,this._popupImage.alt=e,this._popupImageName.textContent=e,g(k(u.prototype),"open",this).call(this)}}])&&S(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(v);function j(t){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j(t)}function C(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,I(r.key),r)}}function O(t,e){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},O(t,e)}function P(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function L(){return L="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=B(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},L.apply(this,arguments)}function B(t){return B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},B(t)}function I(t){var e=function(t,e){if("object"!==j(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==j(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===j(e)?e:String(e)}var T=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=B(r);if(o){var n=B(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===j(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return P(t)}(this,t)});function u(t){var e,n,r,o,a,l=t.popupSelector,c=t.handleFormSubmit;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),r=P(n=i.call(this,l)),a=function(){L((e=P(n),B(u.prototype)),"setEventListeners",e).call(e),n._form.addEventListener("submit",(function(t){t.preventDefault(),n._handleFormSubmit(n._getInputValues())}))},(o=I(o="setEventListeners"))in r?Object.defineProperty(r,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[o]=a,n._form=n._popup.querySelector(".popup__form"),n._inputList=n._form.querySelectorAll(".popup__input"),n._handleFormSubmit=c,n._buttonSave=n._popup.querySelector(".popup__button"),n}return e=u,(n=[{key:"setButtonText",value:function(t){this._buttonSave.textContent=t}},{key:"_getInputValues",value:function(){var t={};return this._inputList.forEach((function(e){t[e.name]=e.value})),t}},{key:"close",value:function(){this._form.reset(),L(B(u.prototype),"close",this).call(this)}}])&&C(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(v);function R(t){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R(t)}function q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==R(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==R(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===R(o)?o:String(o)),r)}var o}var x=function(){function t(e){var n=e.name,r=e.description,o=e.avatar;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._name=document.querySelector(n),this._description=document.querySelector(r),this._avatar=document.querySelector(o)}var e,n;return e=t,(n=[{key:"getUserInfo",value:function(){return{name:this._name.textContent,description:this._description.textContent,avatar:this._avatar.src}}},{key:"setUserInfo",value:function(t){var e=t.name,n=t.about,r=t.avatar;this._name.textContent=e,this._description.textContent=n,this._avatar.src=r}}])&&q(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function U(t){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U(t)}function D(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==U(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==U(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===U(o)?o:String(o)),r)}var o}function A(){return A="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=V(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},A.apply(this,arguments)}function F(t,e){return F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},F(t,e)}function V(t){return V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},V(t)}var N=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&F(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=V(r);if(o){var n=V(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===U(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e,n=t.popupSelector;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,n))._form=e._popup.querySelector(".popup__form"),e._buttonSave=e._popup.querySelector(".popup__button"),e}return e=u,(n=[{key:"setButtonText",value:function(t){this._buttonSave.textContent=t}},{key:"handleFormSubmit",value:function(t){this._handleFormSubmit=t}},{key:"setEventListeners",value:function(){var t=this;A(V(u.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(e){e.preventDefault(),t._handleFormSubmit()}))}}])&&D(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(v);function G(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var J,M=document.querySelector(".profile__edit-button"),H=document.querySelector(".popup__form-edit"),$=document.querySelector(".popup__add-form"),z=document.querySelector(".profile__add-button"),K=document.querySelector(".popup__input_edit_name"),Q=document.querySelector(".popup__input_edit_job"),W=document.querySelector(".profile__avatar-button"),X=document.querySelector(".popup__avatar-form"),Y=function(t,e){rt.open(t,e)},Z=new r({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-60/",headers:{authorization:"75152e04-3a03-4fa1-9a3f-fb5823365b53","Content-Type":"application/json"}}),tt=new h({renderer:function(t){tt.addItem(at(t))}},".elements"),et=new x({name:".profile__title",description:".profile__subtitle",avatar:".profile__avatar"}),nt=new N({popupSelector:".popup_gallery-delete"}),rt=new E(".popup_gallery"),ot=new T({popupSelector:".popup_prof",handleFormSubmit:function(t){ot.setButtonText("Сохранение..."),Z.editUserInfo(t).then((function(t){et.setUserInfo(t),ot.close()})).catch((function(t){console.error(t)})).finally((function(){return ot.setButtonText("Сохранить")}))}}),it=new T({popupSelector:".popup_add",handleFormSubmit:function(t){it.setButtonText("Сохранение..."),Z.addNewCard(t).then((function(t){tt.addItem(at(t)),it.close()})).catch((function(t){console.error(t)})).finally((function(){return it.setButtonText("Сохранить")}))}}),ut=new T({popupSelector:".popup_add-avatar",handleFormSubmit:function(t){ut.setButtonText("Сохранение..."),Z.setAvatar(t).then((function(t){et.setUserInfo(t),ut.close()})).catch((function(t){console.error(t)})).finally((function(){return ut.setButtonText("Сохранить")}))}}),at=function(t){var e=new u({dataCard:t,templateContainer:"#idElements",userId:J,openPopupGallery:Y,handleSetCardLike:function(t){Z.addLike(t).then((function(t){e.likeCardButton(t)})).catch((function(t){console.error(t)}))},handleDelCardLike:function(t){Z.removeLike(t).then((function(t){e.likeCardButton(t)})).catch((function(t){console.error(t)}))},handleDeleteCard:function(t){nt.open(),nt.handleFormSubmit((function(){nt.setButtonText("Удаление..."),Z.removeCard(t).then((function(){e.deleteCardButton(),nt.close()})).catch((function(t){console.error(t)})).finally((function(){nt.setButtonText("Да")}))}))}});return e.generateCard()},lt=new p(t,$),ct=new p(t,H),st=new p(t,X);W.addEventListener("click",(function(){ut.open(),st.resetValidation()})),M.addEventListener("click",(function(){ct.resetValidation();var t=et.getUserInfo();K.value=t.name,Q.value=t.description,ot.open()})),z.addEventListener("click",(function(){it.open(),lt.resetValidation()})),nt.setEventListeners(),rt.setEventListeners(),ot.setEventListeners(),it.setEventListeners(),ut.setEventListeners(),lt.enableValidation(),ct.enableValidation(),st.enableValidation(),Promise.all([Z.getUserInfo(),Z.getInitialCards()]).then((function(t){var e,n,r=(n=2,function(t){if(Array.isArray(t))return t}(e=t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,u,a=[],l=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(c)throw o}}return a}}(e,n)||function(t,e){if(t){if("string"==typeof t)return G(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?G(t,e):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];et.setUserInfo(o),J=o._id,tt.renderItems(i.reverse())})).catch((function(t){console.error(t)}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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YnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cERlbGV0ZUNhcmQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvcGFnZXMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGFwaUNvbmZpZyA9IHtcclxuICBiYXNlVXJsOiBcImh0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtNjAvXCIsXHJcbiAgaGVhZGVyczoge1xyXG4gICAgYXV0aG9yaXphdGlvbjogXCI3NTE1MmUwNC0zYTAzLTRmYTEtOWEzZi1mYjU4MjMzNjViNTNcIixcclxuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gIH0sXHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgdmFsaWRhdGlvbkNvbmZpZyA9IHtcclxuICBmb3JtU2VsZWN0b3I6IFwiLnBvcHVwX19mb3JtXCIsXHJcbiAgaW5wdXRTZWxlY3RvcjogXCIucG9wdXBfX2lucHV0XCIsXHJcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLnBvcHVwX19idXR0b25cIixcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcInBvcHVwX19idXR0b25fZGlzYWJsZWRcIixcclxuICBpbnB1dEVycm9yQ2xhc3M6IFwicG9wdXBfX2lucHV0X3R5cGVfZXJyb3JcIixcclxuICBlcnJvckNsYXNzOiBcInBvcHVwX19pbnB1dC1lcnJvcl92aXNpYmxlXCIsXHJcbn07XHJcblxyXG4vLyBleHBvcnQgY29uc3QgaW5pdGlhbENhcmRzID0gW1xyXG4vLyAgIHtcclxuLy8gICAgIG5hbWU6IFwi0JDRgNGF0YvQt1wiLFxyXG4vLyAgICAgbGluazogXCJodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQvYXJraHl6LmpwZ1wiLFxyXG4vLyAgIH0sXHJcbi8vICAge1xyXG4vLyAgICAgbmFtZTogXCLQp9C10LvRj9Cx0LjQvdGB0LrQsNGPINC+0LHQu9Cw0YHRgtGMXCIsXHJcbi8vICAgICBsaW5rOiBcImh0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9jaGVseWFiaW5zay1vYmxhc3QuanBnXCIsXHJcbi8vICAgfSxcclxuLy8gICB7XHJcbi8vICAgICBuYW1lOiBcItCY0LLQsNC90L7QstC+XCIsXHJcbi8vICAgICBsaW5rOiBcImh0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9pdmFub3ZvLmpwZ1wiLFxyXG4vLyAgIH0sXHJcbi8vICAge1xyXG4vLyAgICAgbmFtZTogXCLQmtCw0LzRh9Cw0YLQutCwXCIsXHJcbi8vICAgICBsaW5rOiBcImh0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9rYW1jaGF0a2EuanBnXCIsXHJcbi8vICAgfSxcclxuLy8gICB7XHJcbi8vICAgICBuYW1lOiBcItCl0L7Qu9C80L7Qs9C+0YDRgdC60LjQuSDRgNCw0LnQvtC9XCIsXHJcbi8vICAgICBsaW5rOiBcImh0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9raG9sbW9nb3Jza3ktcmF5b24uanBnXCIsXHJcbi8vICAgfSxcclxuLy8gICB7XHJcbi8vICAgICBuYW1lOiBcItCR0LDQudC60LDQu1wiLFxyXG4vLyAgICAgbGluazogXCJodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQvYmFpa2FsLmpwZ1wiLFxyXG4vLyAgIH0sXHJcbi8vIF07XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XHJcbiAgY29uc3RydWN0b3IoeyBiYXNlVXJsLCBoZWFkZXJzIH0pIHtcclxuICAgIHRoaXMuX2Jhc2VVcmwgPSBiYXNlVXJsO1xyXG4gICAgdGhpcy5faGVhZGVycyA9IGhlYWRlcnM7XHJcbiAgfVxyXG5cclxuICBfY2hlY2tSZXNwb25zZShyZXMpIHtcclxuICAgIGlmIChyZXMub2spIHtcclxuICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCe0YjQuNCx0LrQsDogJHtyZXMuc3RhdHVzfWApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIGFkZE5ld0NhcmQoeyBuYW1lLCBsaW5rIH0pIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcclxuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWUsXHJcbiAgICAgICAgbGluayxcclxuICAgICAgfSksXHJcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xyXG4gIH1cclxuXHJcbiAgcmVtb3ZlQ2FyZChpZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7aWR9YCwge1xyXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xyXG4gIH1cclxuXHJcbiAgYWRkTGlrZShpZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7aWR9L2xpa2VzYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUFVUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xyXG4gIH1cclxuXHJcbiAgcmVtb3ZlTGlrZShpZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7aWR9L2xpa2VzYCwge1xyXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xyXG4gIH1cclxuXHJcbiAgc2V0QXZhdGFyKGRhdGEpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgYXZhdGFyOiBkYXRhLmxpbmssXHJcbiAgICAgIH0pLFxyXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIGVkaXRVc2VySW5mbyhkYXRhKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbmFtZTogZGF0YS5uYW1lLFxyXG4gICAgICAgIGFib3V0OiBkYXRhLmRlc2NyaXB0aW9uLFxyXG4gICAgICB9KSxcclxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xyXG4gIGNvbnN0cnVjdG9yKHtcclxuICAgIGRhdGFDYXJkLFxyXG4gICAgdGVtcGxhdGVDb250YWluZXIsXHJcbiAgICB1c2VySWQsXHJcbiAgICBvcGVuUG9wdXBHYWxsZXJ5LFxyXG4gICAgaGFuZGxlU2V0Q2FyZExpa2UsXHJcbiAgICBoYW5kbGVEZWxDYXJkTGlrZSxcclxuICAgIGhhbmRsZURlbGV0ZUNhcmQsXHJcbiAgfSkge1xyXG4gICAgdGhpcy5fbmFtZSA9IGRhdGFDYXJkLm5hbWU7XHJcbiAgICB0aGlzLl9saW5rID0gZGF0YUNhcmQubGluaztcclxuICAgIHRoaXMuX2xpa2VzID0gZGF0YUNhcmQubGlrZXM7XHJcbiAgICB0aGlzLl9jYXJkSWQgPSBkYXRhQ2FyZC5faWQ7XHJcbiAgICB0aGlzLl9kYXRhQ2FyZCA9IGRhdGFDYXJkO1xyXG4gICAgdGhpcy5fdXNlcklkID0gdXNlcklkO1xyXG4gICAgdGhpcy5fb3duZXJJZCA9IGRhdGFDYXJkLm93bmVyLl9pZDtcclxuICAgIHRoaXMuX3RlbXBsYXRlQ29udGFpbmVyID0gdGVtcGxhdGVDb250YWluZXI7XHJcbiAgICB0aGlzLl9vcGVuUG9wdXBHYWxsZXJ5ID0gb3BlblBvcHVwR2FsbGVyeTtcclxuICAgIHRoaXMuX2hhbmRsZVNldENhcmRMaWtlID0gaGFuZGxlU2V0Q2FyZExpa2U7XHJcbiAgICB0aGlzLl9oYW5kbGVEZWxDYXJkTGlrZSA9IGhhbmRsZURlbENhcmRMaWtlO1xyXG4gICAgdGhpcy5faGFuZGxlRGVsZXRlQ2FyZCA9IGhhbmRsZURlbGV0ZUNhcmQ7XHJcbiAgfVxyXG5cclxuICBfZ2V0VGVtcGxhdGUoKSB7XHJcbiAgICByZXR1cm4gZG9jdW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fdGVtcGxhdGVDb250YWluZXIpXHJcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudFwiKVxyXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xyXG4gIH1cclxuXHJcbiAgX3NldERhdGEoKSB7XHJcbiAgICB0aGlzLl9pbWFnZUVsZW1lbnQuc3JjID0gdGhpcy5fbGluaztcclxuICAgIHRoaXMuX2ltYWdlRWxlbWVudC5hbHQgPSB0aGlzLl9uYW1lO1xyXG4gICAgdGhpcy5fdGl0bGVFbGVtZW50LnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcclxuICB9XHJcblxyXG4gIGRlbGV0ZUNhcmRCdXR0b24oKSB7XHJcbiAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xyXG4gIH1cclxuXHJcbiAgbGlrZUNhcmRCdXR0b24oZGF0YUNhcmQpIHtcclxuICAgIHRoaXMuX2xpa2VzID0gZGF0YUNhcmQubGlrZXM7XHJcbiAgICB0aGlzLl9saWtlc0NvdW50ZXIudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlcy5sZW5ndGg7XHJcbiAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoXCJlbGVtZW50X19saWtlLWJ1dHRvbl9hY3RpdmVcIik7XHJcbiAgfVxyXG5cclxuICBfbGlrZVN0YXR1cygpIHtcclxuICAgIGlmIChcclxuICAgICAgdGhpcy5fbGlrZXMuc29tZSgodXNlcikgPT4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl91c2VySWQgPT09IHVzZXIuX2lkO1xyXG4gICAgICB9KVxyXG4gICAgKSB7XHJcbiAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LmFkZChcImVsZW1lbnRfX2xpa2UtYnV0dG9uX2FjdGl2ZVwiKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9zZXREZWxldGVCdXR0b24oKSB7XHJcbiAgICBpZiAodGhpcy5fdXNlcklkICE9PSB0aGlzLl9vd25lcklkKSB7XHJcbiAgICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbi5yZW1vdmUoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9hZGRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2xpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgaWYgKHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKFwiZWxlbWVudF9fbGlrZS1idXR0b25fYWN0aXZlXCIpKSB7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlRGVsQ2FyZExpa2UodGhpcy5fY2FyZElkKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLl9oYW5kbGVTZXRDYXJkTGlrZSh0aGlzLl9jYXJkSWQpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLl9kZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+XHJcbiAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNhcmQodGhpcy5fY2FyZElkKVxyXG4gICAgKTtcclxuICAgIHRoaXMuX2ltYWdlRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9vcGVuUG9wdXBHYWxsZXJ5KHRoaXMuX2RhdGFDYXJkKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZ2VuZXJhdGVDYXJkKCkge1xyXG4gICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XHJcbiAgICB0aGlzLl9pbWFnZUVsZW1lbnQgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9faW1hZ2VcIik7XHJcbiAgICB0aGlzLl90aXRsZUVsZW1lbnQgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fdGl0bGVcIik7XHJcbiAgICB0aGlzLl9saWtlQnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2xpa2UtYnV0dG9uXCIpO1xyXG4gICAgdGhpcy5fZGVsZXRlQnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2RlbGV0ZVwiKTtcclxuICAgIHRoaXMuX2xpa2VzQ291bnRlciA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19saWtlLWNvdW50XCIpO1xyXG4gICAgdGhpcy5fbGlrZXNDb3VudGVyLnRleHRDb250ZW50ID0gdGhpcy5fbGlrZXMubGVuZ3RoO1xyXG4gICAgdGhpcy5fbGlrZVN0YXR1cygpO1xyXG4gICAgdGhpcy5fc2V0RGVsZXRlQnV0dG9uKCk7XHJcbiAgICB0aGlzLl9zZXREYXRhKCk7XHJcbiAgICB0aGlzLl9hZGRFdmVudExpc3RlbmVycygpO1xyXG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gIGNvbnN0cnVjdG9yKGNvbmZpZywgZm9ybUVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2Zvcm1TZWxlY3RvciA9IGNvbmZpZy5mb3JtU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9pbnB1dFNlbGVjdG9yID0gY29uZmlnLmlucHV0U2VsZWN0b3I7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IGNvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3RvcjtcclxuICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBjb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcztcclxuICAgIHRoaXMuX2lucHV0RXJyb3JDbGFzcyA9IGNvbmZpZy5pbnB1dEVycm9yQ2xhc3M7XHJcbiAgICB0aGlzLl9lcnJvckNsYXNzID0gY29uZmlnLmVycm9yQ2xhc3M7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xyXG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudCA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gWy4uLmZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcildO1xyXG4gIH1cclxuXHJcbiAgX3Nob3dJbnB1dEVycm9yID0gKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXHJcbiAgICApO1xyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlO1xyXG4gIH07XHJcblxyXG4gIF9oaWRlSW5wdXRFcnJvciA9IChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxyXG4gICAgKTtcclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9lcnJvckNsYXNzKTtcclxuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgfTtcclxuXHJcbiAgZW5hYmxlQnV0dG9uID0gKCkgPT4ge1xyXG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gIH07XHJcblxyXG4gIGRpc2FibGVCdXR0b24gPSAoKSA9PiB7XHJcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcclxuICB9O1xyXG5cclxuICBfdG9nZ2xlQnV0dG9uU3RhdGUgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBpc0Zvcm1JbnZhbGlkID0gdGhpcy5faW5wdXRMaXN0LnNvbWUoXHJcbiAgICAgIChpbnB1dEVsZW1lbnQpID0+ICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWRcclxuICAgICk7XHJcblxyXG4gICAgaWYgKGlzRm9ybUludmFsaWQpIHtcclxuICAgICAgdGhpcy5kaXNhYmxlQnV0dG9uKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmVuYWJsZUJ1dHRvbigpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIF92YWxpZGF0ZUlucHV0ID0gKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgY29uc3QgaXNJbnB1dFZhbGlkID0gaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xyXG4gICAgaWYgKGlzSW5wdXRWYWxpZCkge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBlbmFibGVWYWxpZGF0aW9uID0gKCkgPT4ge1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcclxuICAgICAgICB0aGlzLl92YWxpZGF0ZUlucHV0KGlucHV0RWxlbWVudCk7XHJcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICByZXNldFZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xyXG4gIGNvbnN0cnVjdG9yKHsgcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIHJlbmRlckl0ZW1zKGl0ZW1zKSB7XHJcbiAgICBpdGVtcy5mb3JFYWNoKHRoaXMuX3JlbmRlcmVyKTtcclxuICB9XHJcblxyXG4gIGFkZEl0ZW0oZWxlbWVudCkge1xyXG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9jbG9zZUJ1dHRvbiA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Nsb3NlZFwiKTtcclxuICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcclxuICB9XHJcblxyXG4gIG9wZW4oKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKFwicG9wdXBfb3BlbmVkXCIpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfb3BlbmVkXCIpO1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUVzY0Nsb3NlKGV2ZW50KSB7XHJcbiAgICBpZiAoZXZlbnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fY2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIChldnQpID0+IHtcclxuICAgICAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwicG9wdXBcIikpIHtcclxuICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fcG9wdXBJbWFnZSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2dhbGxlcnktcGhvdG9cIik7XHJcbiAgICB0aGlzLl9wb3B1cEltYWdlTmFtZSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIFwiLnBvcHVwX19pbWFnZS1kZXNjcmlwdGlvblwiXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgb3Blbih7IG5hbWUsIGxpbmsgfSkge1xyXG4gICAgdGhpcy5fcG9wdXBJbWFnZS5zcmMgPSBsaW5rO1xyXG4gICAgdGhpcy5fcG9wdXBJbWFnZS5hbHQgPSBuYW1lO1xyXG4gICAgdGhpcy5fcG9wdXBJbWFnZU5hbWUudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IoeyBwb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0IH0pIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1cIik7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoXCIucG9wdXBfX2lucHV0XCIpO1xyXG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XHJcbiAgICB0aGlzLl9idXR0b25TYXZlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fYnV0dG9uXCIpO1xyXG4gIH1cclxuXHJcbiAgc2V0QnV0dG9uVGV4dCh0ZXh0KSB7XHJcbiAgICB0aGlzLl9idXR0b25TYXZlLnRleHRDb250ZW50ID0gdGV4dDtcclxuICB9XHJcblxyXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcclxuICAgIGNvbnN0IHZhbHVlcyA9IHt9O1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIHZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gdmFsdWVzO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMgPSAoKSA9PiB7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZlbnQpID0+IHtcclxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgdGhpcy5fZm9ybS5yZXNldCgpO1xyXG4gICAgc3VwZXIuY2xvc2UoKTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xyXG4gIGNvbnN0cnVjdG9yKHsgbmFtZSwgZGVzY3JpcHRpb24sIGF2YXRhciB9KSB7XHJcbiAgICB0aGlzLl9uYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihuYW1lKTtcclxuICAgIHRoaXMuX2Rlc2NyaXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihkZXNjcmlwdGlvbik7XHJcbiAgICB0aGlzLl9hdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGF2YXRhcik7XHJcbiAgfVxyXG5cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIG5hbWU6IHRoaXMuX25hbWUudGV4dENvbnRlbnQsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLl9kZXNjcmlwdGlvbi50ZXh0Q29udGVudCxcclxuICAgICAgYXZhdGFyOiB0aGlzLl9hdmF0YXIuc3JjLFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIHNldFVzZXJJbmZvKHsgbmFtZSwgYWJvdXQsIGF2YXRhciB9KSB7XHJcbiAgICB0aGlzLl9uYW1lLnRleHRDb250ZW50ID0gbmFtZTtcclxuICAgIHRoaXMuX2Rlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gYWJvdXQ7XHJcbiAgICB0aGlzLl9hdmF0YXIuc3JjID0gYXZhdGFyO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwRGVsZXRlQ2FyZCBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcih7IHBvcHVwU2VsZWN0b3IgfSkge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9mb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybVwiKTtcclxuICAgIHRoaXMuX2J1dHRvblNhdmUgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19idXR0b25cIik7XHJcbiAgfVxyXG5cclxuICBzZXRCdXR0b25UZXh0KHRleHQpIHtcclxuICAgIHRoaXMuX2J1dHRvblNhdmUudGV4dENvbnRlbnQgPSB0ZXh0O1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlRm9ybVN1Ym1pdChzdWJtaXQpIHtcclxuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBzdWJtaXQ7XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBcIi4vaW5kZXguY3NzXCI7XHJcblxyXG5pbXBvcnQgeyB2YWxpZGF0aW9uQ29uZmlnLCBhcGlDb25maWcgfSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XHJcbmltcG9ydCBBcGkgZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpLmpzXCI7XHJcbmltcG9ydCBDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xyXG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XHJcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xyXG5pbXBvcnQgUG9wdXBEZWxldGVDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwRGVsZXRlQ2FyZC5qc1wiO1xyXG5cclxuY29uc3QgcG9wdXBFZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0LWJ1dHRvblwiKTtcclxuY29uc3QgcG9wdXBFZGl0Rm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm0tZWRpdFwiKTtcclxuY29uc3QgcG9wdXBBZGRGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fYWRkLWZvcm1cIik7XHJcbmNvbnN0IHBvcHVwQWRkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hZGQtYnV0dG9uXCIpO1xyXG5jb25zdCBwb3B1cFByb2ZpbGVOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW5wdXRfZWRpdF9uYW1lXCIpO1xyXG5jb25zdCBwb3B1cFByb2ZpbGVKb2IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbnB1dF9lZGl0X2pvYlwiKTtcclxuY29uc3QgcHJvZmlsZUF2YXRhcmJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYXZhdGFyLWJ1dHRvblwiKTtcclxuY29uc3QgcG9wdXBBdmF0YXJGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fYXZhdGFyLWZvcm1cIik7XHJcbmxldCB1c2VySWQ7XHJcblxyXG5jb25zdCBvcGVuUG9wdXBHYWxsZXJ5ID0gKG5hbWUsIGxpbmspID0+IHtcclxuICBwb3B1cEdhbGxlcnkub3BlbihuYW1lLCBsaW5rKTtcclxufTtcclxuXHJcbmNvbnN0IGFwaSA9IG5ldyBBcGkoYXBpQ29uZmlnKTtcclxuXHJcbmNvbnN0IGNhcmRTZWN0aW9uID0gbmV3IFNlY3Rpb24oXHJcbiAge1xyXG4gICAgcmVuZGVyZXI6IChkYXRhKSA9PiB7XHJcbiAgICAgIGNhcmRTZWN0aW9uLmFkZEl0ZW0oY3JlYXRlR2FsZXJ5KGRhdGEpKTtcclxuICAgIH0sXHJcbiAgfSxcclxuICBcIi5lbGVtZW50c1wiXHJcbik7XHJcblxyXG5jb25zdCBzYXZlSW5wdXRJbmZvID0gbmV3IFVzZXJJbmZvKHtcclxuICBuYW1lOiBcIi5wcm9maWxlX190aXRsZVwiLFxyXG4gIGRlc2NyaXB0aW9uOiBcIi5wcm9maWxlX19zdWJ0aXRsZVwiLFxyXG4gIGF2YXRhcjogXCIucHJvZmlsZV9fYXZhdGFyXCIsXHJcbn0pO1xyXG5cclxuY29uc3QgcG9wdXBEZWxDYXJkID0gbmV3IFBvcHVwRGVsZXRlQ2FyZCh7XHJcbiAgcG9wdXBTZWxlY3RvcjogXCIucG9wdXBfZ2FsbGVyeS1kZWxldGVcIixcclxufSk7XHJcblxyXG5jb25zdCBwb3B1cEdhbGxlcnkgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoXCIucG9wdXBfZ2FsbGVyeVwiKTtcclxuXHJcbmNvbnN0IHBvcHVwRWRpdCA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcclxuICBwb3B1cFNlbGVjdG9yOiBcIi5wb3B1cF9wcm9mXCIsXHJcbiAgaGFuZGxlRm9ybVN1Ym1pdDogKGZvcm1EYXRhKSA9PiB7XHJcbiAgICBwb3B1cEVkaXQuc2V0QnV0dG9uVGV4dChcItCh0L7RhdGA0LDQvdC10L3QuNC1Li4uXCIpO1xyXG4gICAgYXBpXHJcbiAgICAgIC5lZGl0VXNlckluZm8oZm9ybURhdGEpXHJcbiAgICAgIC50aGVuKChmb3JtRGF0YSkgPT4ge1xyXG4gICAgICAgIHNhdmVJbnB1dEluZm8uc2V0VXNlckluZm8oZm9ybURhdGEpO1xyXG4gICAgICAgIHBvcHVwRWRpdC5jbG9zZSgpO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgICAgfSlcclxuICAgICAgLmZpbmFsbHkoKCkgPT4gcG9wdXBFZGl0LnNldEJ1dHRvblRleHQoXCLQodC+0YXRgNCw0L3QuNGC0YxcIikpO1xyXG4gIH0sXHJcbn0pO1xyXG5cclxuY29uc3QgcG9wdXBBZGQgPSBuZXcgUG9wdXBXaXRoRm9ybSh7XHJcbiAgcG9wdXBTZWxlY3RvcjogXCIucG9wdXBfYWRkXCIsXHJcbiAgaGFuZGxlRm9ybVN1Ym1pdDogKGZvcm1EYXRhKSA9PiB7XHJcbiAgICBwb3B1cEFkZC5zZXRCdXR0b25UZXh0KFwi0KHQvtGF0YDQsNC90LXQvdC40LUuLi5cIik7XHJcbiAgICBhcGlcclxuICAgICAgLmFkZE5ld0NhcmQoZm9ybURhdGEpXHJcbiAgICAgIC50aGVuKChmb3JtRGF0YSkgPT4ge1xyXG4gICAgICAgIGNhcmRTZWN0aW9uLmFkZEl0ZW0oY3JlYXRlR2FsZXJ5KGZvcm1EYXRhKSk7XHJcbiAgICAgICAgcG9wdXBBZGQuY2xvc2UoKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5maW5hbGx5KCgpID0+IHBvcHVwQWRkLnNldEJ1dHRvblRleHQoXCLQodC+0YXRgNCw0L3QuNGC0YxcIikpO1xyXG4gIH0sXHJcbn0pO1xyXG5cclxuY29uc3QgcG9wdXBFZGl0QXZhdGFyID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xyXG4gIHBvcHVwU2VsZWN0b3I6IFwiLnBvcHVwX2FkZC1hdmF0YXJcIixcclxuICBoYW5kbGVGb3JtU3VibWl0OiAoZm9ybURhdGEpID0+IHtcclxuICAgIHBvcHVwRWRpdEF2YXRhci5zZXRCdXR0b25UZXh0KFwi0KHQvtGF0YDQsNC90LXQvdC40LUuLi5cIik7XHJcbiAgICBhcGlcclxuICAgICAgLnNldEF2YXRhcihmb3JtRGF0YSlcclxuICAgICAgLnRoZW4oKGZvcm1EYXRhKSA9PiB7XHJcbiAgICAgICAgc2F2ZUlucHV0SW5mby5zZXRVc2VySW5mbyhmb3JtRGF0YSk7XHJcbiAgICAgICAgcG9wdXBFZGl0QXZhdGFyLmNsb3NlKCk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgICB9KVxyXG4gICAgICAuZmluYWxseSgoKSA9PiBwb3B1cEVkaXRBdmF0YXIuc2V0QnV0dG9uVGV4dChcItCh0L7RhdGA0LDQvdC40YLRjFwiKSk7XHJcbiAgfSxcclxufSk7XHJcblxyXG5jb25zdCBjcmVhdGVHYWxlcnkgPSAoZGF0YUNhcmQpID0+IHtcclxuICBjb25zdCBjYXJkID0gbmV3IENhcmQoe1xyXG4gICAgZGF0YUNhcmQsXHJcbiAgICB0ZW1wbGF0ZUNvbnRhaW5lcjogXCIjaWRFbGVtZW50c1wiLFxyXG4gICAgdXNlcklkLFxyXG4gICAgb3BlblBvcHVwR2FsbGVyeSxcclxuICAgIGhhbmRsZVNldENhcmRMaWtlKGNhcmRJZCkge1xyXG4gICAgICBhcGlcclxuICAgICAgICAuYWRkTGlrZShjYXJkSWQpXHJcbiAgICAgICAgLnRoZW4oKGRhdGFDYXJkKSA9PiB7XHJcbiAgICAgICAgICBjYXJkLmxpa2VDYXJkQnV0dG9uKGRhdGFDYXJkKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9LFxyXG4gICAgaGFuZGxlRGVsQ2FyZExpa2UoY2FyZElkKSB7XHJcbiAgICAgIGFwaVxyXG4gICAgICAgIC5yZW1vdmVMaWtlKGNhcmRJZClcclxuICAgICAgICAudGhlbigoZGF0YUNhcmQpID0+IHtcclxuICAgICAgICAgIGNhcmQubGlrZUNhcmRCdXR0b24oZGF0YUNhcmQpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgICAgICB9KTtcclxuICAgIH0sXHJcbiAgICBoYW5kbGVEZWxldGVDYXJkKGNhcmRJZCkge1xyXG4gICAgICBwb3B1cERlbENhcmQub3BlbigpO1xyXG4gICAgICBwb3B1cERlbENhcmQuaGFuZGxlRm9ybVN1Ym1pdCgoKSA9PiB7XHJcbiAgICAgICAgcG9wdXBEZWxDYXJkLnNldEJ1dHRvblRleHQoXCLQo9C00LDQu9C10L3QuNC1Li4uXCIpO1xyXG4gICAgICAgIGFwaVxyXG4gICAgICAgICAgLnJlbW92ZUNhcmQoY2FyZElkKVxyXG4gICAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICBjYXJkLmRlbGV0ZUNhcmRCdXR0b24oKTtcclxuICAgICAgICAgICAgcG9wdXBEZWxDYXJkLmNsb3NlKCk7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICAgICAgcG9wdXBEZWxDYXJkLnNldEJ1dHRvblRleHQoXCLQlNCwXCIpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSxcclxuICB9KTtcclxuICByZXR1cm4gY2FyZC5nZW5lcmF0ZUNhcmQoKTtcclxufTtcclxuXHJcbmNvbnN0IHBvcHVwQWRkRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25Db25maWcsIHBvcHVwQWRkRm9ybSk7XHJcbmNvbnN0IHBvcHVwRWRpdEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihcclxuICB2YWxpZGF0aW9uQ29uZmlnLFxyXG4gIHBvcHVwRWRpdEZvcm1cclxuKTtcclxuY29uc3QgcG9wdXBBdmF0YXJGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoXHJcbiAgdmFsaWRhdGlvbkNvbmZpZyxcclxuICBwb3B1cEF2YXRhckZvcm1cclxuKTtcclxuXHJcbmNvbnN0IGhhbmRsZUFkZEJ1dHRvbkNsaWNrID0gKCkgPT4ge1xyXG4gIHBvcHVwQWRkLm9wZW4oKTtcclxuICBwb3B1cEFkZEZvcm1WYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XHJcbn07XHJcblxyXG5jb25zdCBoYW5kbGVFZGl0QnV0dG9uQ2xpY2sgPSAoKSA9PiB7XHJcbiAgcG9wdXBFZGl0Rm9ybVZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTtcclxuICBjb25zdCBwcm9maWxlSW5mbyA9IHNhdmVJbnB1dEluZm8uZ2V0VXNlckluZm8oKTtcclxuICBwb3B1cFByb2ZpbGVOYW1lLnZhbHVlID0gcHJvZmlsZUluZm8ubmFtZTtcclxuICBwb3B1cFByb2ZpbGVKb2IudmFsdWUgPSBwcm9maWxlSW5mby5kZXNjcmlwdGlvbjtcclxuICBwb3B1cEVkaXQub3BlbigpO1xyXG59O1xyXG5cclxucHJvZmlsZUF2YXRhcmJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIHBvcHVwRWRpdEF2YXRhci5vcGVuKCk7XHJcbiAgcG9wdXBBdmF0YXJGb3JtVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpO1xyXG59KTtcclxuXHJcbnBvcHVwRWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlRWRpdEJ1dHRvbkNsaWNrKTtcclxucG9wdXBBZGRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZUFkZEJ1dHRvbkNsaWNrKTtcclxuXHJcbnBvcHVwRGVsQ2FyZC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5wb3B1cEdhbGxlcnkuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxucG9wdXBFZGl0LnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbnBvcHVwQWRkLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbnBvcHVwRWRpdEF2YXRhci5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxucG9wdXBBZGRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxucG9wdXBFZGl0Rm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbnBvcHVwQXZhdGFyRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG5Qcm9taXNlLmFsbChbYXBpLmdldFVzZXJJbmZvKCksIGFwaS5nZXRJbml0aWFsQ2FyZHMoKV0pXHJcbiAgLnRoZW4oKFtpbmZvLCBjYXJkc10pID0+IHtcclxuICAgIHNhdmVJbnB1dEluZm8uc2V0VXNlckluZm8oaW5mbyk7XHJcbiAgICB1c2VySWQgPSBpbmZvLl9pZDtcclxuICAgIGNhcmRTZWN0aW9uLnJlbmRlckl0ZW1zKGNhcmRzLnJldmVyc2UoKSk7XHJcbiAgfSlcclxuICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gIH0pO1xyXG4iXSwibmFtZXMiOlsidmFsaWRhdGlvbkNvbmZpZyIsImZvcm1TZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiQXBpIiwiYmFzZVVybCIsImhlYWRlcnMiLCJ0aGlzIiwiX2Jhc2VVcmwiLCJfaGVhZGVycyIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJmZXRjaCIsInRoZW4iLCJfY2hlY2tSZXNwb25zZSIsIm5hbWUiLCJsaW5rIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJpZCIsImRhdGEiLCJhdmF0YXIiLCJhYm91dCIsImRlc2NyaXB0aW9uIiwiQ2FyZCIsImRhdGFDYXJkIiwidGVtcGxhdGVDb250YWluZXIiLCJ1c2VySWQiLCJvcGVuUG9wdXBHYWxsZXJ5IiwiaGFuZGxlU2V0Q2FyZExpa2UiLCJoYW5kbGVEZWxDYXJkTGlrZSIsImhhbmRsZURlbGV0ZUNhcmQiLCJfbmFtZSIsIl9saW5rIiwiX2xpa2VzIiwibGlrZXMiLCJfY2FyZElkIiwiX2lkIiwiX2RhdGFDYXJkIiwiX3VzZXJJZCIsIl9vd25lcklkIiwib3duZXIiLCJfdGVtcGxhdGVDb250YWluZXIiLCJfb3BlblBvcHVwR2FsbGVyeSIsIl9oYW5kbGVTZXRDYXJkTGlrZSIsIl9oYW5kbGVEZWxDYXJkTGlrZSIsIl9oYW5kbGVEZWxldGVDYXJkIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY29udGVudCIsImNsb25lTm9kZSIsIl9pbWFnZUVsZW1lbnQiLCJzcmMiLCJhbHQiLCJfdGl0bGVFbGVtZW50IiwidGV4dENvbnRlbnQiLCJfZWxlbWVudCIsInJlbW92ZSIsIl9saWtlc0NvdW50ZXIiLCJsZW5ndGgiLCJfbGlrZUJ1dHRvbiIsImNsYXNzTGlzdCIsInRvZ2dsZSIsInNvbWUiLCJ1c2VyIiwiYWRkIiwiX2RlbGV0ZUJ1dHRvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJjb250YWlucyIsIl9nZXRUZW1wbGF0ZSIsIl9saWtlU3RhdHVzIiwiX3NldERlbGV0ZUJ1dHRvbiIsIl9zZXREYXRhIiwiX2FkZEV2ZW50TGlzdGVuZXJzIiwiRm9ybVZhbGlkYXRvciIsImNvbmZpZyIsImZvcm1FbGVtZW50IiwiaW5wdXRFbGVtZW50IiwiZXJyb3JFbGVtZW50IiwiX2Zvcm1FbGVtZW50IiwiX2lucHV0RXJyb3JDbGFzcyIsIl9lcnJvckNsYXNzIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJfYnV0dG9uRWxlbWVudCIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiZGlzYWJsZWQiLCJfaW5wdXRMaXN0IiwidmFsaWRpdHkiLCJ2YWxpZCIsImRpc2FibGVCdXR0b24iLCJlbmFibGVCdXR0b24iLCJfaGlkZUlucHV0RXJyb3IiLCJfc2hvd0lucHV0RXJyb3IiLCJmb3JFYWNoIiwiX3ZhbGlkYXRlSW5wdXQiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJfZm9ybVNlbGVjdG9yIiwiX2lucHV0U2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJxdWVyeVNlbGVjdG9yQWxsIiwiU2VjdGlvbiIsImNvbnRhaW5lclNlbGVjdG9yIiwicmVuZGVyZXIiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiaXRlbXMiLCJlbGVtZW50IiwicHJlcGVuZCIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cCIsIl9jbG9zZUJ1dHRvbiIsIl9oYW5kbGVFc2NDbG9zZSIsImJpbmQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJrZXkiLCJjbG9zZSIsImV2dCIsInRhcmdldCIsIlBvcHVwV2l0aEltYWdlIiwiX3BvcHVwSW1hZ2UiLCJfcG9wdXBJbWFnZU5hbWUiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlRm9ybVN1Ym1pdCIsIl9mb3JtIiwicHJldmVudERlZmF1bHQiLCJfaGFuZGxlRm9ybVN1Ym1pdCIsIl9nZXRJbnB1dFZhbHVlcyIsIl9idXR0b25TYXZlIiwidGV4dCIsInZhbHVlcyIsImlucHV0IiwidmFsdWUiLCJyZXNldCIsIlVzZXJJbmZvIiwiX2Rlc2NyaXB0aW9uIiwiX2F2YXRhciIsIlBvcHVwRGVsZXRlQ2FyZCIsInN1Ym1pdCIsInBvcHVwRWRpdEJ1dHRvbiIsInBvcHVwRWRpdEZvcm0iLCJwb3B1cEFkZEZvcm0iLCJwb3B1cEFkZEJ1dHRvbiIsInBvcHVwUHJvZmlsZU5hbWUiLCJwb3B1cFByb2ZpbGVKb2IiLCJwcm9maWxlQXZhdGFyYnV0dG9uIiwicG9wdXBBdmF0YXJGb3JtIiwicG9wdXBHYWxsZXJ5Iiwib3BlbiIsImFwaSIsImF1dGhvcml6YXRpb24iLCJjYXJkU2VjdGlvbiIsImFkZEl0ZW0iLCJjcmVhdGVHYWxlcnkiLCJzYXZlSW5wdXRJbmZvIiwicG9wdXBEZWxDYXJkIiwicG9wdXBFZGl0IiwiZm9ybURhdGEiLCJzZXRCdXR0b25UZXh0IiwiZWRpdFVzZXJJbmZvIiwic2V0VXNlckluZm8iLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJlcnJvciIsImZpbmFsbHkiLCJwb3B1cEFkZCIsImFkZE5ld0NhcmQiLCJwb3B1cEVkaXRBdmF0YXIiLCJzZXRBdmF0YXIiLCJjYXJkIiwiY2FyZElkIiwiYWRkTGlrZSIsImxpa2VDYXJkQnV0dG9uIiwicmVtb3ZlTGlrZSIsInJlbW92ZUNhcmQiLCJkZWxldGVDYXJkQnV0dG9uIiwiZ2VuZXJhdGVDYXJkIiwicG9wdXBBZGRGb3JtVmFsaWRhdG9yIiwicG9wdXBFZGl0Rm9ybVZhbGlkYXRvciIsInBvcHVwQXZhdGFyRm9ybVZhbGlkYXRvciIsInJlc2V0VmFsaWRhdGlvbiIsInByb2ZpbGVJbmZvIiwiZ2V0VXNlckluZm8iLCJzZXRFdmVudExpc3RlbmVycyIsImVuYWJsZVZhbGlkYXRpb24iLCJhbGwiLCJnZXRJbml0aWFsQ2FyZHMiLCJpbmZvIiwiY2FyZHMiLCJyZW5kZXJJdGVtcyIsInJldmVyc2UiXSwic291cmNlUm9vdCI6IiJ9